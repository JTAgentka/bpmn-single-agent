<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
                  xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
                  xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
                  xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
                  id="Definitions_Distribution"
                  targetNamespace="http://jtbank.cz/productdistribution">
  
  <bpmn:collaboration id="Collaboration_Distribution">
    <bpmn:participant id="Participant_Bank" name="J&amp;T Bank Product Distribution" processRef="Process_Distribution"/>
    <bpmn:participant id="Participant_Client" name="Client"/>
    <bpmn:participant id="Participant_External" name="External Systems"/>
    
    <bpmn:messageFlow id="Message_ClientRequest" sourceRef="Participant_Client" targetRef="StartEvent_ClientContact"/>
    <bpmn:messageFlow id="Message_ProductInfo" sourceRef="Task_ProvideInfo" targetRef="Participant_Client"/>
    <bpmn:messageFlow id="Message_MarketData" sourceRef="Participant_External" targetRef="Task_CheckMarket"/>
  </bpmn:collaboration>
  
  <bpmn:process id="Process_Distribution" isExecutable="true">
    
    <!-- Lane Set -->
    <bpmn:laneSet id="LaneSet_Dist">
      <bpmn:lane id="Lane_Sales" name="Sales Channel">
        <bpmn:flowNodeRef>StartEvent_ClientContact</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_AuthenticateAdvisor</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_IdentifyClient</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_Advisory" name="Advisory System">
        <bpmn:flowNodeRef>Task_AssessSuitability</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_Suitability</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_GenerateWarning</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_ProvideInfo</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_Processing" name="Order Processing">
        <bpmn:flowNodeRef>Task_ProcessOrder</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_CheckMarket</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_ExecuteTransaction</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_ClientDecision</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_Compliance" name="Compliance System">
        <bpmn:flowNodeRef>Task_ComplianceCheck</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_RecordTransaction</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_Success</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_Cancelled</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    
    <!-- Events -->
    <bpmn:startEvent id="StartEvent_ClientContact" name="Client Contact Initiated">
      <bpmn:outgoing>Flow_D1</bpmn:outgoing>
      <bpmn:messageEventDefinition/>
    </bpmn:startEvent>
    
    <bpmn:endEvent id="EndEvent_Success" name="Transaction Completed">
      <bpmn:incoming>Flow_D13</bpmn:incoming>
    </bpmn:endEvent>
    
    <bpmn:endEvent id="EndEvent_Cancelled" name="Distribution Cancelled">
      <bpmn:incoming>Flow_D14</bpmn:incoming>
    </bpmn:endEvent>
    
    <!-- Tasks -->
    <bpmn:userTask id="Task_AuthenticateAdvisor" name="Authenticate Advisor/Channel">
      <bpmn:incoming>Flow_D1</bpmn:incoming>
      <bpmn:outgoing>Flow_D2</bpmn:outgoing>
    </bpmn:userTask>
    
    <bpmn:userTask id="Task_IdentifyClient" name="Identify Client Profile">
      <bpmn:incoming>Flow_D2</bpmn:incoming>
      <bpmn:outgoing>Flow_D3</bpmn:outgoing>
    </bpmn:userTask>
    
    <bpmn:businessRuleTask id="Task_AssessSuitability" name="Assess Product Suitability">
      <bpmn:incoming>Flow_D3</bpmn:incoming>
      <bpmn:outgoing>Flow_D4</bpmn:outgoing>
    </bpmn:businessRuleTask>
    
    <bpmn:exclusiveGateway id="Gateway_Suitability" name="Is Product Suitable?">
      <bpmn:incoming>Flow_D4</bpmn:incoming>
      <bpmn:outgoing>Flow_D5_Positive</bpmn:outgoing>
      <bpmn:outgoing>Flow_D5_Neutral</bpmn:outgoing>
      <bpmn:outgoing>Flow_D5_Negative</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    
    <bpmn:sendTask id="Task_ProvideInfo" name="Provide Product Information">
      <bpmn:incoming>Flow_D5_Positive</bpmn:incoming>
      <bpmn:incoming>Flow_D6</bpmn:incoming>
      <bpmn:outgoing>Flow_D7</bpmn:outgoing>
    </bpmn:sendTask>
    
    <bpmn:userTask id="Task_GenerateWarning" name="Generate Suitability Warning">
      <bpmn:incoming>Flow_D5_Neutral</bpmn:incoming>
      <bpmn:outgoing>Flow_D6</bpmn:outgoing>
    </bpmn:userTask>
    
    <bpmn:exclusiveGateway id="Gateway_ClientDecision" name="Client Decision">
      <bpmn:incoming>Flow_D7</bpmn:incoming>
      <bpmn:outgoing>Flow_D8_Proceed</bpmn:outgoing>
      <bpmn:outgoing>Flow_D8_Cancel</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    
    <bpmn:userTask id="Task_ProcessOrder" name="Process Client Order">
      <bpmn:incoming>Flow_D8_Proceed</bpmn:incoming>
      <bpmn:outgoing>Flow_D9</bpmn:outgoing>
    </bpmn:userTask>
    
    <bpmn:serviceTask id="Task_CheckMarket" name="Check Market Conditions">
      <bpmn:incoming>Flow_D9</bpmn:incoming>
      <bpmn:outgoing>Flow_D10</bpmn:outgoing>
    </bpmn:serviceTask>
    
    <bpmn:serviceTask id="Task_ExecuteTransaction" name="Execute Transaction">
      <bpmn:incoming>Flow_D10</bpmn:incoming>
      <bpmn:outgoing>Flow_D11</bpmn:outgoing>
    </bpmn:serviceTask>
    
    <bpmn:serviceTask id="Task_ComplianceCheck" name="Perform Compliance Checks">
      <bpmn:incoming>Flow_D11</bpmn:incoming>
      <bpmn:outgoing>Flow_D12</bpmn:outgoing>
    </bpmn:serviceTask>
    
    <bpmn:serviceTask id="Task_RecordTransaction" name="Record Transaction Details">
      <bpmn:incoming>Flow_D12</bpmn:incoming>
      <bpmn:outgoing>Flow_D13</bpmn:outgoing>
    </bpmn:serviceTask>
    
    <!-- Sequence Flows -->
    <bpmn:sequenceFlow id="Flow_D1" sourceRef="StartEvent_ClientContact" targetRef="Task_AuthenticateAdvisor"/>
    <bpmn:sequenceFlow id="Flow_D2" sourceRef="Task_AuthenticateAdvisor" targetRef="Task_IdentifyClient"/>
    <bpmn:sequenceFlow id="Flow_D3" sourceRef="Task_IdentifyClient" targetRef="Task_AssessSuitability"/>
    <bpmn:sequenceFlow id="Flow_D4" sourceRef="Task_AssessSuitability" targetRef="Gateway_Suitability"/>
    <bpmn:sequenceFlow id="Flow_D5_Positive" name="Positive Target" sourceRef="Gateway_Suitability" targetRef="Task_ProvideInfo"/>
    <bpmn:sequenceFlow id="Flow_D5_Neutral" name="Neutral Target" sourceRef="Gateway_Suitability" targetRef="Task_GenerateWarning"/>
    <bpmn:sequenceFlow id="Flow_D5_Negative" name="Negative Target" sourceRef="Gateway_Suitability" targetRef="EndEvent_Cancelled"/>
    <bpmn:sequenceFlow id="Flow_D6" sourceRef="Task_GenerateWarning" targetRef="Task_ProvideInfo"/>
    <bpmn:sequenceFlow id="Flow_D7" sourceRef="Task_ProvideInfo" targetRef="Gateway_ClientDecision"/>
    <bpmn:sequenceFlow id="Flow_D8_Proceed" name="Proceed" sourceRef="Gateway_ClientDecision" targetRef="Task_ProcessOrder"/>
    <bpmn:sequenceFlow id="Flow_D8_Cancel" name="Cancel" sourceRef="Gateway_ClientDecision" targetRef="EndEvent_Cancelled"/>
    <bpmn:sequenceFlow id="Flow_D9" sourceRef="Task_ProcessOrder" targetRef="Task_CheckMarket"/>
    <bpmn:sequenceFlow id="Flow_D10" sourceRef="Task_CheckMarket" targetRef="Task_ExecuteTransaction"/>
    <bpmn:sequenceFlow id="Flow_D11" sourceRef="Task_ExecuteTransaction" targetRef="Task_ComplianceCheck"/>
    <bpmn:sequenceFlow id="Flow_D12" sourceRef="Task_ComplianceCheck" targetRef="Task_RecordTransaction"/>
    <bpmn:sequenceFlow id="Flow_D13" sourceRef="Task_RecordTransaction" targetRef="EndEvent_Success"/>
    <bpmn:sequenceFlow id="Flow_D14" sourceRef="Gateway_Suitability" targetRef="EndEvent_Cancelled"/>
    
    <!-- Data Objects -->
    <bpmn:dataObjectReference id="DataObject_ClientProfile" name="Client Investment Profile" dataObjectRef="DO_Profile"/>
    <bpmn:dataObject id="DO_Profile"/>
    
    <bpmn:dataObjectReference id="DataObject_ProductDocs" name="KID/Prospectus Documents" dataObjectRef="DO_Docs"/>
    <bpmn:dataObject id="DO_Docs"/>
    
    <bpmn:dataObjectReference id="DataObject_Transaction" name="Transaction Record" dataObjectRef="DO_Transaction"/>
    <bpmn:dataObject id="DO_Transaction"/>
    
    <!-- Text Annotations -->
    <bpmn:textAnnotation id="Annotation_Channels">
      <bpmn:text>Multiple channels:
- Branch network
- Online platform  
- External partners
- Call center</bpmn:text>
    </bpmn:textAnnotation>
    
    <bpmn:association id="Association_Channels" sourceRef="Task_AuthenticateAdvisor" targetRef="Annotation_Channels"/>
    
  </bpmn:process>
  
  <!-- BPMN Diagram -->
  <bpmndi:BPMNDiagram id="BPMNDiagram_Distribution">
    <bpmndi:BPMNPlane id="BPMNPlane_Distribution" bpmnElement="Collaboration_Distribution">
      
      <!-- Participants -->
      <bpmndi:BPMNShape id="Participant_Bank_di" bpmnElement="Participant_Bank" isHorizontal="false">
        <dc:Bounds x="160" y="200" width="1400" height="900"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Participant_Client_di" bpmnElement="Participant_Client" isHorizontal="true">
        <dc:Bounds x="160" y="80" width="1400" height="60"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Participant_External_di" bpmnElement="Participant_External" isHorizontal="true">
        <dc:Bounds x="160" y="1160" width="1400" height="60"/>
      </bpmndi:BPMNShape>
      
      <!-- Lanes (Vertical) -->
      <bpmndi:BPMNShape id="Lane_Sales_di" bpmnElement="Lane_Sales" isHorizontal="false">
        <dc:Bounds x="160" y="200" width="1400" height="180"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Lane_Advisory_di" bpmnElement="Lane_Advisory" isHorizontal="false">
        <dc:Bounds x="160" y="400" width="1400" height="230"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Lane_Processing_di" bpmnElement="Lane_Processing" isHorizontal="false">
        <dc:Bounds x="160" y="650" width="1400" height="230"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Lane_Compliance_di" bpmnElement="Lane_Compliance" isHorizontal="false">
        <dc:Bounds x="160" y="900" width="1400" height="200"/>
      </bpmndi:BPMNShape>
      
      <!-- Flow Nodes -->
      <bpmndi:BPMNShape id="StartEvent_ClientContact_di" bpmnElement="StartEvent_ClientContact">
        <dc:Bounds x="222" y="272" width="36" height="36"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_AuthenticateAdvisor_di" bpmnElement="Task_AuthenticateAdvisor">
        <dc:Bounds x="310" y="250" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_IdentifyClient_di" bpmnElement="Task_IdentifyClient">
        <dc:Bounds x="460" y="250" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_AssessSuitability_di" bpmnElement="Task_AssessSuitability">
        <dc:Bounds x="460" y="440" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Gateway_Suitability_di" bpmnElement="Gateway_Suitability" isMarkerVisible="true">
        <dc:Bounds x="485" y="555" width="50" height="50"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_ProvideInfo_di" bpmnElement="Task_ProvideInfo">
        <dc:Bounds x="610" y="440" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_GenerateWarning_di" bpmnElement="Task_GenerateWarning">
        <dc:Bounds x="310" y="540" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Gateway_ClientDecision_di" bpmnElement="Gateway_ClientDecision" isMarkerVisible="true">
        <dc:Bounds x="785" y="455" width="50" height="50"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_ProcessOrder_di" bpmnElement="Task_ProcessOrder">
        <dc:Bounds x="760" y="710" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_CheckMarket_di" bpmnElement="Task_CheckMarket">
        <dc:Bounds x="910" y="710" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_ExecuteTransaction_di" bpmnElement="Task_ExecuteTransaction">
        <dc:Bounds x="1060" y="710" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_ComplianceCheck_di" bpmnElement="Task_ComplianceCheck">
        <dc:Bounds x="1060" y="940" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_RecordTransaction_di" bpmnElement="Task_RecordTransaction">
        <dc:Bounds x="1210" y="940" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="EndEvent_Success_di" bpmnElement="EndEvent_Success">
        <dc:Bounds x="1392" y="962" width="36" height="36"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="EndEvent_Cancelled_di" bpmnElement="EndEvent_Cancelled">
        <dc:Bounds x="1392" y="1042" width="36" height="36"/>
      </bpmndi:BPMNShape>
      
      <!-- Data Objects -->
      <bpmndi:BPMNShape id="DataObject_ClientProfile_di" bpmnElement="DataObject_ClientProfile">
        <dc:Bounds x="592" y="260" width="36" height="50"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="DataObject_ProductDocs_di" bpmnElement="DataObject_ProductDocs">
        <dc:Bounds x="742" y="520" width="36" height="50"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="DataObject_Transaction_di" bpmnElement="DataObject_Transaction">
        <dc:Bounds x="1342" y="950" width="36" height="50"/>
      </bpmndi:BPMNShape>
      
      <!-- Text Annotation -->
      <bpmndi:BPMNShape id="Annotation_Channels_di" bpmnElement="Annotation_Channels">
        <dc:Bounds x="200" y="350" width="150" height="70"/>
      </bpmndi:BPMNShape>
      
      <!-- Edges -->
      <bpmndi:BPMNEdge id="Flow_D1_di" bpmnElement="Flow_D1">
        <di:waypoint x="258" y="290"/>
        <di:waypoint x="310" y="290"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_D2_di" bpmnElement="Flow_D2">
        <di:waypoint x="410" y="290"/>
        <di:waypoint x="460" y="290"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_D3_di" bpmnElement="Flow_D3">
        <di:waypoint x="510" y="330"/>
        <di:waypoint x="510" y="440"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_D4_di" bpmnElement="Flow_D4">
        <di:waypoint x="510" y="520"/>
        <di:waypoint x="510" y="555"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_D5_Positive_di" bpmnElement="Flow_D5_Positive">
        <di:waypoint x="535" y="580"/>
        <di:waypoint x="660" y="580"/>
        <di:waypoint x="660" y="520"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_D5_Neutral_di" bpmnElement="Flow_D5_Neutral">
        <di:waypoint x="485" y="580"/>
        <di:waypoint x="410" y="580"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_D5_Negative_di" bpmnElement="Flow_D5_Negative">
        <di:waypoint x="510" y="605"/>
        <di:waypoint x="510" y="1060"/>
        <di:waypoint x="1392" y="1060"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_D6_di" bpmnElement="Flow_D6">
        <di:waypoint x="360" y="540"/>
        <di:waypoint x="360" y="480"/>
        <di:waypoint x="610" y="480"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_D7_di" bpmnElement="Flow_D7">
        <di:waypoint x="710" y="480"/>
        <di:waypoint x="785" y="480"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_D8_Proceed_di" bpmnElement="Flow_D8_Proceed">
        <di:waypoint x="810" y="505"/>
        <di:waypoint x="810" y="710"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_D8_Cancel_di" bpmnElement="Flow_D8_Cancel">
        <di:waypoint x="835" y="480"/>
        <di:waypoint x="1410" y="480"/>
        <di:waypoint x="1410" y="1042"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_D9_di" bpmnElement="Flow_D9">
        <di:waypoint x="860" y="750"/>
        <di:waypoint x="910" y="750"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_D10_di" bpmnElement="Flow_D10">
        <di:waypoint x="1010" y="750"/>
        <di:waypoint x="1060" y="750"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_D11_di" bpmnElement="Flow_D11">
        <di:waypoint x="1110" y="790"/>
        <di:waypoint x="1110" y="940"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_D12_di" bpmnElement="Flow_D12">
        <di:waypoint x="1160" y="980"/>
        <di:waypoint x="1210" y="980"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_D13_di" bpmnElement="Flow_D13">
        <di:waypoint x="1310" y="980"/>
        <di:waypoint x="1392" y="980"/>
      </bpmndi:BPMNEdge>
      
      <!-- Message Flows -->
      <bpmndi:BPMNEdge id="Message_ClientRequest_di" bpmnElement="Message_ClientRequest">
        <di:waypoint x="240" y="140"/>
        <di:waypoint x="240" y="272"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Message_ProductInfo_di" bpmnElement="Message_ProductInfo">
        <di:waypoint x="660" y="440"/>
        <di:waypoint x="660" y="140"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Message_MarketData_di" bpmnElement="Message_MarketData">
        <di:waypoint x="960" y="1160"/>
        <di:waypoint x="960" y="790"/>
      </bpmndi:BPMNEdge>
      
      <!-- Association -->
      <bpmndi:BPMNEdge id="Association_Channels_di" bpmnElement="Association_Channels">
        <di:waypoint x="310" y="310"/>
        <di:waypoint x="275" y="350"/>
      </bpmndi:BPMNEdge>
      
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  
</bpmn:definitions>