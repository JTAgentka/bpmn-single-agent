<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
                  xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
                  xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
                  xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
                  id="Definitions_DistributionSetup"
                  targetNamespace="http://jtbank.cz/investment">
  
  <bpmn:collaboration id="Collaboration_DistributionSetup">
    <bpmn:participant id="Pool_DistributionSetup" name="Distribution Setup Process" processRef="Process_DistributionSetup"/>
  </bpmn:collaboration>
  
  <bpmn:process id="Process_DistributionSetup" isExecutable="true">
    <!-- Lane definitions -->
    <bpmn:laneSet id="LaneSet_DistributionSetup">
      <bpmn:lane id="Lane_ODIC" name="ODIC (Investment Center)">
        <bpmn:flowNodeRef>StartEvent_Setup</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_ConfigureChannels</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_SetupFeeStructure</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_FinalConfiguration</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_DistributionReady</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_Sales" name="Sales Division">
        <bpmn:flowNodeRef>Task_SegmentClients</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_TrainStaff</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_Partners" name="External Partners">
        <bpmn:flowNodeRef>Gateway_ExternalPartners</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_IntegratePartners</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_Compliance" name="Compliance">
        <bpmn:flowNodeRef>Task_ValidateDistribution</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_ComplianceCheck</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    
    <!-- Flow nodes -->
    <bpmn:startEvent id="StartEvent_Setup" name="Begin distribution setup">
      <bpmn:outgoing>Flow_001</bpmn:outgoing>
    </bpmn:startEvent>
    
    <bpmn:task id="Task_ConfigureChannels" name="Configure distribution channels">
      <bpmn:incoming>Flow_001</bpmn:incoming>
      <bpmn:outgoing>Flow_002</bpmn:outgoing>
    </bpmn:task>
    
    <bpmn:task id="Task_SegmentClients" name="Setup client segmentation">
      <bpmn:incoming>Flow_002</bpmn:incoming>
      <bpmn:outgoing>Flow_003</bpmn:outgoing>
    </bpmn:task>
    
    <bpmn:task id="Task_SetupFeeStructure" name="Implement fee structure">
      <bpmn:incoming>Flow_003</bpmn:incoming>
      <bpmn:outgoing>Flow_004</bpmn:outgoing>
    </bpmn:task>
    
    <bpmn:exclusiveGateway id="Gateway_ExternalPartners" name="External partners?">
      <bpmn:incoming>Flow_004</bpmn:incoming>
      <bpmn:outgoing>Flow_005_Yes</bpmn:outgoing>
      <bpmn:outgoing>Flow_005_No</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    
    <bpmn:task id="Task_IntegratePartners" name="Integrate external partners">
      <bpmn:incoming>Flow_005_Yes</bpmn:incoming>
      <bpmn:outgoing>Flow_006</bpmn:outgoing>
    </bpmn:task>
    
    <bpmn:task id="Task_TrainStaff" name="Train sales staff">
      <bpmn:incoming>Flow_005_No</bpmn:incoming>
      <bpmn:incoming>Flow_006</bpmn:incoming>
      <bpmn:outgoing>Flow_007</bpmn:outgoing>
    </bpmn:task>
    
    <bpmn:task id="Task_ValidateDistribution" name="Validate distribution setup">
      <bpmn:incoming>Flow_007</bpmn:incoming>
      <bpmn:outgoing>Flow_008</bpmn:outgoing>
    </bpmn:task>
    
    <bpmn:exclusiveGateway id="Gateway_ComplianceCheck" name="Compliance OK?">
      <bpmn:incoming>Flow_008</bpmn:incoming>
      <bpmn:outgoing>Flow_009_Yes</bpmn:outgoing>
      <bpmn:outgoing>Flow_009_No</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    
    <bpmn:task id="Task_FinalConfiguration" name="Finalize distribution configuration">
      <bpmn:incoming>Flow_009_Yes</bpmn:incoming>
      <bpmn:outgoing>Flow_010</bpmn:outgoing>
    </bpmn:task>
    
    <bpmn:endEvent id="EndEvent_DistributionReady" name="Distribution ready">
      <bpmn:incoming>Flow_010</bpmn:incoming>
    </bpmn:endEvent>
    
    <!-- Sequence flows -->
    <bpmn:sequenceFlow id="Flow_001" sourceRef="StartEvent_Setup" targetRef="Task_ConfigureChannels"/>
    <bpmn:sequenceFlow id="Flow_002" sourceRef="Task_ConfigureChannels" targetRef="Task_SegmentClients"/>
    <bpmn:sequenceFlow id="Flow_003" sourceRef="Task_SegmentClients" targetRef="Task_SetupFeeStructure"/>
    <bpmn:sequenceFlow id="Flow_004" sourceRef="Task_SetupFeeStructure" targetRef="Gateway_ExternalPartners"/>
    <bpmn:sequenceFlow id="Flow_005_Yes" name="Yes" sourceRef="Gateway_ExternalPartners" targetRef="Task_IntegratePartners"/>
    <bpmn:sequenceFlow id="Flow_005_No" name="No" sourceRef="Gateway_ExternalPartners" targetRef="Task_TrainStaff"/>
    <bpmn:sequenceFlow id="Flow_006" sourceRef="Task_IntegratePartners" targetRef="Task_TrainStaff"/>
    <bpmn:sequenceFlow id="Flow_007" sourceRef="Task_TrainStaff" targetRef="Task_ValidateDistribution"/>
    <bpmn:sequenceFlow id="Flow_008" sourceRef="Task_ValidateDistribution" targetRef="Gateway_ComplianceCheck"/>
    <bpmn:sequenceFlow id="Flow_009_Yes" name="Yes" sourceRef="Gateway_ComplianceCheck" targetRef="Task_FinalConfiguration"/>
    <bpmn:sequenceFlow id="Flow_009_No" name="No" sourceRef="Gateway_ComplianceCheck" targetRef="Task_ConfigureChannels"/>
    <bpmn:sequenceFlow id="Flow_010" sourceRef="Task_FinalConfiguration" targetRef="EndEvent_DistributionReady"/>
  </bpmn:process>
  
  <!-- DI Layout -->
  <bpmndi:BPMNDiagram id="BPMNDiagram_DistributionSetup">
    <bpmndi:BPMNPlane id="BPMNPlane_DistributionSetup" bpmnElement="Collaboration_DistributionSetup">
      <bpmndi:BPMNShape id="Pool_DistributionSetup_di" bpmnElement="Pool_DistributionSetup" isHorizontal="true">
        <dc:Bounds x="160" y="80" width="1400" height="620"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Lane_ODIC_di" bpmnElement="Lane_ODIC" isHorizontal="true">
        <dc:Bounds x="190" y="80" width="1370" height="150"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Lane_Sales_di" bpmnElement="Lane_Sales" isHorizontal="true">
        <dc:Bounds x="190" y="230" width="1370" height="150"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Lane_Partners_di" bpmnElement="Lane_Partners" isHorizontal="true">
        <dc:Bounds x="190" y="380" width="1370" height="150"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Lane_Compliance_di" bpmnElement="Lane_Compliance" isHorizontal="true">
        <dc:Bounds x="190" y="530" width="1370" height="170"/>
      </bpmndi:BPMNShape>
      
      <!-- ODIC lane elements -->
      <bpmndi:BPMNShape id="StartEvent_Setup_di" bpmnElement="StartEvent_Setup">
        <dc:Bounds x="220" y="140" width="36" height="36"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="202" y="183" width="72" height="27"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_ConfigureChannels_di" bpmnElement="Task_ConfigureChannels">
        <dc:Bounds x="320" y="118" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_SetupFeeStructure_di" bpmnElement="Task_SetupFeeStructure">
        <dc:Bounds x="640" y="118" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_FinalConfiguration_di" bpmnElement="Task_FinalConfiguration">
        <dc:Bounds x="1260" y="118" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="EndEvent_DistributionReady_di" bpmnElement="EndEvent_DistributionReady">
        <dc:Bounds x="1420" y="140" width="36" height="36"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1395" y="183" width="86" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      
      <!-- Sales lane elements -->
      <bpmndi:BPMNShape id="Task_SegmentClients_di" bpmnElement="Task_SegmentClients">
        <dc:Bounds x="480" y="265" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_TrainStaff_di" bpmnElement="Task_TrainStaff">
        <dc:Bounds x="960" y="265" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <!-- Partners lane elements -->
      <bpmndi:BPMNShape id="Gateway_ExternalPartners_di" bpmnElement="Gateway_ExternalPartners" isMarkerVisible="true">
        <dc:Bounds x="800" y="430" width="50" height="50"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="780" y="487" width="90" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Task_IntegratePartners_di" bpmnElement="Task_IntegratePartners">
        <dc:Bounds x="920" y="415" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <!-- Compliance lane elements -->
      <bpmndi:BPMNShape id="Task_ValidateDistribution_di" bpmnElement="Task_ValidateDistribution">
        <dc:Bounds x="1060" y="580" width="100" height="80"/>
      </bpmndi:BPMNShape>
      
      <bpmndi:BPMNShape id="Gateway_ComplianceCheck_di" bpmnElement="Gateway_ComplianceCheck" isMarkerVisible="true">
        <dc:Bounds x="1200" y="595" width="50" height="50"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1182" y="652" width="86" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      
      <!-- Sequence flows -->
      <bpmndi:BPMNEdge id="Flow_001_di" bpmnElement="Flow_001">
        <di:waypoint x="256" y="158"/>
        <di:waypoint x="320" y="158"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_002_di" bpmnElement="Flow_002">
        <di:waypoint x="420" y="158"/>
        <di:waypoint x="530" y="158"/>
        <di:waypoint x="530" y="265"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_003_di" bpmnElement="Flow_003">
        <di:waypoint x="580" y="305"/>
        <di:waypoint x="690" y="305"/>
        <di:waypoint x="690" y="198"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_004_di" bpmnElement="Flow_004">
        <di:waypoint x="740" y="158"/>
        <di:waypoint x="825" y="158"/>
        <di:waypoint x="825" y="430"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_005_Yes_di" bpmnElement="Flow_005_Yes">
        <di:waypoint x="850" y="455"/>
        <di:waypoint x="920" y="455"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="876" y="437" width="18" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_005_No_di" bpmnElement="Flow_005_No">
        <di:waypoint x="825" y="430"/>
        <di:waypoint x="825" y="305"/>
        <di:waypoint x="960" y="305"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="833" y="365" width="15" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_006_di" bpmnElement="Flow_006">
        <di:waypoint x="970" y="415"/>
        <di:waypoint x="970" y="380"/>
        <di:waypoint x="1010" y="380"/>
        <di:waypoint x="1010" y="345"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_007_di" bpmnElement="Flow_007">
        <di:waypoint x="1060" y="305"/>
        <di:waypoint x="1110" y="305"/>
        <di:waypoint x="1110" y="580"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_008_di" bpmnElement="Flow_008">
        <di:waypoint x="1160" y="620"/>
        <di:waypoint x="1200" y="620"/>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_009_Yes_di" bpmnElement="Flow_009_Yes">
        <di:waypoint x="1225" y="595"/>
        <di:waypoint x="1225" y="158"/>
        <di:waypoint x="1260" y="158"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1231" y="374" width="18" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_009_No_di" bpmnElement="Flow_009_No">
        <di:waypoint x="1200" y="620"/>
        <di:waypoint x="370" y="620"/>
        <di:waypoint x="370" y="198"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="778" y="602" width="15" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      
      <bpmndi:BPMNEdge id="Flow_010_di" bpmnElement="Flow_010">
        <di:waypoint x="1360" y="158"/>
        <di:waypoint x="1420" y="158"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>